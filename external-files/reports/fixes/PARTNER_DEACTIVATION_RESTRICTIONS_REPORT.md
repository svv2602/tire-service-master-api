# –û—Ç—á–µ—Ç: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

## üìã –ó–∞–¥–∞—á–∞
–î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
1. –ï—Å–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω, —Ç–æ –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

## ‚úÖ Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è (tire-service-master-api)

### 1. –ú–æ–¥–µ–ª—å ServicePoint (app/models/service_point.rb)
```ruby
# –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É, –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω
validate :partner_must_be_active_to_activate_service_point

private

def partner_must_be_active_to_activate_service_point
  if is_active? && partner.present? && !partner.is_active?
    errors.add(:is_active, '–Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω')
  end
end
```

### 2. –ú–æ–¥–µ–ª—å Operator (app/models/operator.rb)
```ruby
# –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –µ—Å–ª–∏ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω
validate :partner_must_be_active_to_activate_operator

private

def partner_must_be_active_to_activate_operator
  if is_active? && partner.present? && !partner.is_active?
    errors.add(:is_active, '–Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω')
  end
end
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backend –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```bash
# –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞
partner = Partner.find(1)
partner.update!(is_active: false)

# –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É
service_point = partner.service_points.first
service_point.is_active = true
service_point.valid? # => false
service_point.errors.full_messages # => ["Is active –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"]

# –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
operator = partner.operators.first
operator.is_active = true
operator.valid? # => false
operator.errors.full_messages # => ["Is active –Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"]
```

## ‚úÖ Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è (tire-service-master-web)

### 1. –ò–º–ø–æ—Ä—Ç—ã API (src/pages/partners/PartnerFormPage.tsx)
```typescript
import { 
  // ... existing imports
  useTogglePartnerActiveMutation,
} from '../../api';

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const [togglePartnerActive] = useTogglePartnerActiveMutation();
```

### 2. –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
```typescript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
const handlePartnerActiveToggle = async (e: React.ChangeEvent<HTMLInputElement>) => {
  const newActiveStatus = e.target.checked;
  
  // –ï—Å–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –∏ —ç—Ç–æ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  if (!newActiveStatus && isEdit && partnerId) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
    if (window.confirm(
      '–ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?'
    )) {
      try {
        // –í—ã–∑—ã–≤–∞–µ–º API –¥–ª—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ (—ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏)
        await togglePartnerActive({ 
          id: partnerId, 
          isActive: false 
        }).unwrap();
        
        formik.setFieldValue('is_active', false);
        setSuccessMessage('–ü–∞—Ä—Ç–Ω–µ—Ä –∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —É—Å–ø–µ—à–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã');
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
        if (servicePointsData) {
          refetchServicePoints();
        }
        if (operators) {
          refetchOperators();
        }
      } catch (error: any) {
        setApiError(error?.data?.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞');
        setTimeout(() => setApiError(null), 3000);
      }
    }
  } else {
    // –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
    if (newActiveStatus && isEdit && partnerId) {
      try {
        await togglePartnerActive({ 
          id: partnerId, 
          isActive: true 
        }).unwrap();
        
        formik.setFieldValue('is_active', true);
        setSuccessMessage('–ü–∞—Ä—Ç–Ω–µ—Ä —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');
        setTimeout(() => setSuccessMessage(null), 3000);
      } catch (error: any) {
        setApiError(error?.data?.message || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞');
        setTimeout(() => setApiError(null), 3000);
      }
    } else {
      formik.setFieldValue('is_active', newActiveStatus);
    }
  }
};
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π UI –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è
```typescript
<FormControlLabel
  control={
    <Switch
      checked={formik.values.is_active}
      onChange={handlePartnerActiveToggle}
      name="is_active"
    />
  }
  label="–ê–∫—Ç–∏–≤–Ω—ã–π –ø–∞—Ä—Ç–Ω–µ—Ä"
/>
{!formik.values.is_active && (
  <Typography variant="caption" color="warning.main" sx={{ display: 'block', mt: 1 }}>
    –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —Ç–∞–∫–∂–µ –±—É–¥—É—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
  </Typography>
)}
```

### 4. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫
```typescript
const handleToggleServicePointStatus = async (servicePoint: ServicePoint) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É
  if (!servicePoint.is_active && !formik.values.is_active) {
    setApiError('–ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
    setTimeout(() => setApiError(null), 3000);
    return;
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
  } catch (error: any) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    const errorMessage = error?.data?.errors?.is_active?.[0] || 
                        error?.data?.message || 
                        '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–Ω–æ–π —Ç–æ—á–∫–∏';
    setApiError(errorMessage);
    setTimeout(() => setApiError(null), 3000);
  }
};
```

### 5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
```typescript
const handleToggleOperatorStatus = async (operator: Operator) => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
  if (!operator.is_active && !formik.values.is_active) {
    setApiError('–ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
    setTimeout(() => setApiError(null), 3000);
    return;
  }
  
  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
  } catch (error: any) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    const errorMessage = error?.data?.errors?.is_active?.[0] || 
                        error?.data?.message || 
                        '–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞';
    setApiError(errorMessage);
    setTimeout(() => setApiError(null), 3000);
  }
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚úÖ **–¢–µ—Å—Ç 1**: –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ API
- –ü—ã—Ç–∞–µ–º—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É
- –û–∂–∏–¥–∞–µ–º –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏: "–Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"

‚úÖ **–¢–µ—Å—Ç 2**: –ü–æ–ø—ã—Ç–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
- –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —á–µ—Ä–µ–∑ API
- –ü—ã—Ç–∞–µ–º—Å—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- –û–∂–∏–¥–∞–µ–º –æ—à–∏–±–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏: "–Ω–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"

### Frontend —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚úÖ **–¢–µ—Å—Ç 3**: –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π
- –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è
- –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

‚úÖ **–¢–µ—Å—Ç 4**: UI –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—É—é —Ç–æ—á–∫—É –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
- –û—à–∏–±–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ –Ω–∞ frontend, —Ç–∞–∫ –∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –æ—Ç backend –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–∏
2. **Frontend –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: UI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞
3. **–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∏–∞–ª–æ–≥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
1. **–ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞**: –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ç–æ—á–∫–∏ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è
2. **–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π**: 
   - Frontend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
   - Backend –≤–∞–ª–∏–¥–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–∏
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞: frontend + backend –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—Ä—è–º—ã–µ API –∑–∞–ø—Ä–æ—Å—ã
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è

## üîó –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Backend:
- `app/models/service_point.rb` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `app/models/operator.rb` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### Frontend:
- `src/pages/partners/PartnerFormPage.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- `src/api/partners.api.ts` - –∏–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ API

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- `external-files/testing/html/test_partner_deactivation_restrictions.html` - –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç

## ‚ú® –£–ª—É—á—à–µ–Ω–∏—è UX

1. **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**: –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
2. **–î–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–∞—Ä—Ç–Ω–µ—Ä–∞
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é! üéâ 