# –û—Ç—á–µ—Ç: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –ø–æ—Å—Ç–æ–≤\n\n## –û–±–∑–æ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç\n\n–í —Ä–∞–º–∫–∞—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –ø–æ—Å—Ç–æ–≤ –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.\n\n## ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Swagger\n\n### 1. –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö (Components/Schemas)\n\n#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ `ServicePost`\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `has_custom_schedule` (boolean)\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ `WorkingDays` –∏ `CustomHours`\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `working_days_list` (–º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫)\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è `display_name`, `slot_duration_in_seconds`\n\n#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞ `ServicePostRequest`\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–µ–π –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è\n- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–≤—ã–µ —Å—Ö–µ–º—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\n\n#### –ù–æ–≤—ã–µ —Å—Ö–µ–º—ã\n\n**`WorkingDays`**\n```yaml\ntype: object\nproperties:\n  monday: { type: boolean, description: \"–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫\" }\n  tuesday: { type: boolean, description: \"–í—Ç–æ—Ä–Ω–∏–∫\" }\n  wednesday: { type: boolean, description: \"–°—Ä–µ–¥–∞\" }\n  thursday: { type: boolean, description: \"–ß–µ—Ç–≤–µ—Ä–≥\" }\n  friday: { type: boolean, description: \"–ü—è—Ç–Ω–∏—Ü–∞\" }\n  saturday: { type: boolean, description: \"–°—É–±–±–æ—Ç–∞\" }\n  sunday: { type: boolean, description: \"–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ\" }\nnullable: true\nexample:\n  monday: true\n  tuesday: false\n  wednesday: true\n  # ...\n```\n\n**`CustomHours`**\n```yaml\ntype: object\nproperties:\n  start:\n    type: string\n    pattern: \"^([01]?[0-9]|2[0-3]):[0-5][0-9]$\"\n    description: \"–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM\"\n    example: \"09:00\"\n  end:\n    type: string\n    pattern: \"^([01]?[0-9]|2[0-3]):[0-5][0-9]$\"\n    description: \"–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM\"\n    example: \"18:00\"\nnullable: true\nrequired: [start, end]\n```\n\n### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ endpoints\n\n#### POST `/api/v1/partners/{partner_id}/service_points`\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `requestBody` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `service_posts_attributes`\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–æ–≤ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `response schema` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤\n\n**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**\n```json\n{\n  \"service_point\": {\n    \"name\": \"–ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏\",\n    \"address\": \"—É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 123\",\n    \"city_id\": 1,\n    \"service_posts_attributes\": [\n      {\n        \"name\": \"–û–±—ã—á–Ω—ã–π –ø–æ—Å—Ç\",\n        \"post_number\": 1,\n        \"slot_duration\": 60,\n        \"has_custom_schedule\": false\n      },\n      {\n        \"name\": \"–ü–æ—Å—Ç —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º\",\n        \"post_number\": 2,\n        \"slot_duration\": 30,\n        \"has_custom_schedule\": true,\n        \"working_days\": {\n          \"monday\": true,\n          \"tuesday\": false,\n          \"wednesday\": true,\n          \"thursday\": true,\n          \"friday\": false,\n          \"saturday\": false,\n          \"sunday\": false\n        },\n        \"custom_hours\": {\n          \"start\": \"10:00\",\n          \"end\": \"19:00\"\n        }\n      }\n    ]\n  }\n}\n```\n\n### 3. –ù–æ–≤—ã–µ Swagger —Ç–µ—Å—Ç—ã\n\n#### –§–∞–π–ª: `spec/requests/api/v1/swagger_docs/service_posts_custom_schedule_spec.rb`\n- ‚úÖ –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ç–æ—á–µ–∫ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏\n- ‚úÖ –¢–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (422 –æ—à–∏–±–∫–∏)\n- ‚úÖ –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (401 –æ—à–∏–±–∫–∏)\n- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤\n\n## üõ† –ü—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏\n\n### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ Swagger\n\n1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–∑ —Ç–µ—Å—Ç–æ–≤:**\n   ```bash\n   bundle exec rspec spec/requests/api/v1/swagger_docs/ --format Rswag::Specs::SwaggerFormatter --order defined\n   ```\n\n2. **–ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ Swagger —Ç–µ—Å—Ç–∞:**\n   ```bash\n   bundle exec rspec spec/requests/api/v1/swagger_docs/service_posts_custom_schedule_spec.rb --format Rswag::Specs::SwaggerFormatter\n   ```\n\n3. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è Swagger UI:**\n   ```bash\n   bundle exec rake rswag:api:create_ui_link\n   ```\n\n### –î–æ—Å—Ç—É–ø –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏\n\n- **Swagger UI:** `/api-docs` (–ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)\n- **YAML —Ñ–∞–π–ª:** `swagger/v1/swagger.yaml`\n- **–ü—É–±–ª–∏—á–Ω–∞—è –∫–æ–ø–∏—è:** `public/api-docs/v1/swagger.yaml`\n\n## üìã –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\n\n### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏\n1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏**\n   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏\n   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã\n   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è\n\n2. **–í–∞–ª–∏–¥–∞—Ü–∏–∏**\n   - –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ (HH:MM)\n   - –õ–æ–≥–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ (–Ω–∞—á–∞–ª–æ < –æ–∫–æ–Ω—á–∞–Ω–∏–µ)\n   - –ù–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è\n   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏\n\n3. **–û—Ç–≤–µ—Ç—ã API**\n   - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–∞—Ö —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏\n   - –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ\n   - –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n\n## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API\n\n### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º\n```http\nPOST /api/v1/partners/1/service_points\nContent-Type: application/json\nAuthorization: Bearer <token>\n\n{\n  \"service_point\": {\n    \"name\": \"–¢–µ—Å—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞\",\n    \"address\": \"—É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, 1\",\n    \"city_id\": 1,\n    \"service_posts_attributes\": [\n      {\n        \"name\": \"–≠–∫—Å–ø—Ä–µ—Å—Å-–ø–æ—Å—Ç\",\n        \"post_number\": 1,\n        \"slot_duration\": 30,\n        \"has_custom_schedule\": true,\n        \"working_days\": {\n          \"monday\": true,\n          \"wednesday\": true,\n          \"friday\": true\n        },\n        \"custom_hours\": {\n          \"start\": \"10:00\",\n          \"end\": \"19:00\"\n        }\n      }\n    ]\n  }\n}\n```\n\n### –û—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞\n```json\n{\n  \"data\": {\n    \"id\": 1,\n    \"name\": \"–¢–µ—Å—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞\",\n    \"service_posts\": [\n      {\n        \"id\": 1,\n        \"post_number\": 1,\n        \"name\": \"–≠–∫—Å–ø—Ä–µ—Å—Å-–ø–æ—Å—Ç\",\n        \"has_custom_schedule\": true,\n        \"working_days\": {\n          \"monday\": true,\n          \"tuesday\": false,\n          \"wednesday\": true,\n          \"thursday\": false,\n          \"friday\": true,\n          \"saturday\": false,\n          \"sunday\": false\n        },\n        \"custom_hours\": {\n          \"start\": \"10:00\",\n          \"end\": \"19:00\"\n        },\n        \"working_days_list\": [\"monday\", \"wednesday\", \"friday\"]\n      }\n    ]\n  }\n}\n```\n\n## ‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è\n\n**Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π –ø–æ—Å—Ç–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:**\n\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (WorkingDays, CustomHours)\n- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö endpoints\n- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ Swagger —Ç–µ—Å—Ç—ã\n- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ —Ç–µ—Å—Ç–æ–≤\n- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\n- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π Swagger\n\n**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä–∞–º–∏.**\n"