# –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è MVP

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –ê–†–•–ò–¢–ï–ö–¢–£–†–ï

### –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–æ–≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
**–ü–†–û–ë–õ–ï–ú–ê**: –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–æ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤, –Ω–æ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏:
- –ü–æ—Å—Ç 1: 30 –º–∏–Ω—É—Ç –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
- –ü–æ—Å—Ç 2: 40 –º–∏–Ω—É—Ç –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ  
- –ü–æ—Å—Ç 3: 30 –º–∏–Ω—É—Ç –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

**–†–ï–ó–£–õ–¨–¢–ê–¢**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:
```
9:00 ‚Äî 3 –ø–æ—Å—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
9:30 ‚Äî 2 –ø–æ—Å—Ç–∞ (–ø–æ—Å—Ç 1,3 –æ—Å–≤–æ–±–æ–¥–∏–ª–∏—Å—å, –ø–æ—Å—Ç 2 –µ—â–µ –∑–∞–Ω—è—Ç)
9:40 ‚Äî 1 –ø–æ—Å—Ç (–ø–æ—Å—Ç 2 –æ—Å–≤–æ–±–æ–¥–∏–ª—Å—è)
10:00 ‚Äî 2 –ø–æ—Å—Ç–∞ (–ø–æ—Å—Ç—ã 1,3 —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã)
```

**–†–ï–®–ï–ù–ò–ï**: –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å ServicePost —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞.

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (–ø—Ä–∞–∑–¥–Ω–∏–∫–∏, –æ—Å–æ–±—ã–µ –¥–Ω–∏)
- ‚úÖ –£—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ—Å—Ç–æ–≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- üö® **–ö–†–ò–¢–ò–ß–ù–û**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞
- üîß **–î–û–†–ê–ë–û–¢–ê–¢–¨**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã (rolling schedule)

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–ª–æ—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–ª–æ—Ç–∞ (–¥–æ—Å—Ç—É–ø–µ–Ω/–∑–∞–Ω—è—Ç)
- ‚úÖ –°–≤—è–∑—å —Å–ª–æ—Ç–æ–≤ —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
- üö® **–ö–†–ò–¢–ò–ß–ù–û**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ –Ω–∞ –≤—Ä–µ–º—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–π

### 3. –†–∞—Å—á–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—Å–ª—É–≥
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–æ—Ç–∞ –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–π —Ç–æ—á–∫–∏
- üö® **–ö–†–ò–¢–ò–ß–ù–û**: –£—á–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–≥–æ—Å–ª–æ—Ç–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

### 4. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ —Å–ª–æ—Ç
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- üîß **–î–û–ë–ê–í–ò–¢–¨**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ —Å–ª–æ—Ç–∞

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### 0. –ú–æ–¥–µ–ª—å ServicePost (–ö–†–ò–¢–ò–ß–ù–û)
```ruby
# –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å—Ç–æ–≤
class ServicePost < ApplicationRecord
  belongs_to :service_point
  has_many :schedule_slots, foreign_key: :post_number, primary_key: :post_number
  
  validates :post_number, presence: true, 
    uniqueness: { scope: :service_point_id }
  validates :slot_duration, presence: true, 
    numericality: { greater_than: 0, less_than_or_equal_to: 480 }
  validates :name, length: { maximum: 255 }
  
  scope :active, -> { where(is_active: true) }
  scope :by_post_number, ->(number) { where(post_number: number) }
end

# –ü–æ–ª—è –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:
# - service_point_id: bigint
# - post_number: integer
# - name: string (optional)
# - slot_duration: integer (–≤ –º–∏–Ω—É—Ç–∞—Ö)
# - is_active: boolean
# - description: text (optional)
```

### 1. –ú–æ–¥–µ–ª—å ScheduleSlot (–æ–±–Ω–æ–≤–∏—Ç—å)
```ruby
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è:
# - reserved_until: datetime (–¥–æ –∫–∞–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω)
# - estimated_duration: integer (—Ä–∞—Å—á–µ—Ç–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö)
# - booking_count: integer (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π)

# –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã:
# - reserve_for_minutes(minutes)
# - release_reservation
# - calculate_duration_for_services(service_ids)

# –û–±–Ω–æ–≤–∏—Ç—å —Å–≤—è–∑–∏:
belongs_to :service_post, foreign_key: :post_number, primary_key: :post_number, optional: true
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª—å ServicePoint
```ruby
class ServicePoint < ApplicationRecord
  has_many :service_posts, dependent: :destroy
  has_many :schedule_slots, dependent: :destroy
  
  # –£–¥–∞–ª–∏—Ç—å: post_count, default_slot_duration
  
  def posts_count
    service_posts.active.count
  end
  
  def available_at_time(date, time)
    # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
    occupied_posts = schedule_slots
      .joins(:bookings)
      .where(slot_date: date)
      .where('start_time <= ? AND end_time > ?', time, time)
      .pluck(:post_number)
      
    service_posts.active.where.not(post_number: occupied_posts).count
  end
end
```

### 3. –°–µ—Ä–≤–∏—Å ScheduleManager (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
```ruby
class ScheduleManager
  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Å—Ç–æ–≤
  def self.generate_slots_from_template(service_point, date, template)
    delete_unused_slots(service_point.id, date)
    
    start_time = template.opening_time
    end_time = template.closing_time
    
    # –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª–æ—Ç—ã —Å –µ–≥–æ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
    service_point.service_posts.active.each do |post|
      generate_slots_for_post(service_point, date, post, start_time, end_time)
    end
  end
  
  # –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
  # - generate_rolling_schedule(service_point_id, days_ahead = 30)
  # - find_available_slots_for_duration(service_point_id, date, duration_minutes)
  # - reserve_slot_temporarily(slot_id, minutes = 15)
  # - cleanup_expired_reservations
  
  private
  
  def self.generate_slots_for_post(service_point, date, post, start_time, end_time)
    current_time = start_time
    slot_duration = post.slot_duration
    
    while current_time + slot_duration.minutes <= end_time
      slot_end_time = current_time + slot_duration.minutes
      
      # –°–æ–∑–¥–∞–µ–º —Å–ª–æ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ –µ—â–µ –Ω–µ—Ç
      unless ScheduleSlot.exists?(
        service_point_id: service_point.id,
        slot_date: date,
        start_time: current_time,
        end_time: slot_end_time,
        post_number: post.post_number
      )
        ScheduleSlot.create!(
          service_point_id: service_point.id,
          slot_date: date,
          start_time: current_time,
          end_time: slot_end_time,
          post_number: post.post_number,
          is_available: true
        )
      end
      
      # –°–ª–µ–¥—É—é—â–∏–π —Å–ª–æ—Ç –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Å—Ç–∞
      current_time = slot_end_time
    end
  end
end
```

### 4. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
```
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–º–∏ (–ö–†–ò–¢–ò–ß–ù–û)
GET /api/v1/service_points/:service_point_id/posts
POST /api/v1/service_points/:service_point_id/posts
PUT /api/v1/service_points/:service_point_id/posts/:id
DELETE /api/v1/service_points/:service_point_id/posts/:id

# –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–ù–û–í–û–ï)
GET /api/v1/service_points/:id/availability/:date/by_posts
  # –û—Ç–≤–µ—Ç: availability –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ –ø–æ—Å—Ç–∞–º

# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–æ–±–Ω–æ–≤–∏—Ç—å)
POST /api/v1/schedule/reserve_slot/:slot_id
DELETE /api/v1/schedule/release_reservation/:slot_id
GET /api/v1/schedule/available_slots_for_duration/:service_point_id/:date
GET /api/v1/schedule/calculate_duration (—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ service_ids)
```

### 5. Background Jobs
```ruby
# –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ:
# - RollingScheduleGeneratorJob (—É—á–µ—Ç ServicePost)
# - ExpiredReservationCleanupJob (–æ—á–∏—Å—Ç–∫–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–π)
# - SlotAvailabilityNotificationJob (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤)

# –ù–æ–≤—ã–µ:
# - ServicePostMigrationJob (–º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
# - ScheduleRegenerationJob (–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤)
```

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç—å –∑–∞–¥–∞—á

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0 (–ë–õ–û–ö–ï–† MVP):
1. **–°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ ServicePost** - –æ—Å–Ω–æ–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
2. **–ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö** - –ø–µ—Ä–µ–Ω–æ—Å –ø–æ—Å—Ç–æ–≤ –∏–∑ ServicePoint
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ScheduleManager** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
4. **API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Å—Ç–∞–º–∏** - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP):
1. –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–æ–≤ –Ω–∞ –≤—Ä–µ–º—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —É—Å–ª—É–≥–∞–º
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –±—É–¥—É—â–∏–µ –¥–∞—Ç—ã

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–≤–∞–∂–Ω–æ):
1. –ú–Ω–æ–≥–æ—Å–ª–æ—Ç–æ–≤—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ
3. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ):
1. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ—Ç–æ–≤
3. –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–æ—Ç–æ–≤

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### –ß—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è:
1. **ServicePoint** —Ç–µ—Ä—è–µ—Ç –ø–æ–ª—è `post_count` –∏ `default_slot_duration`
2. **ScheduleSlot** –ø–æ–ª—É—á–∞–µ—Ç —Å–≤—è–∑—å —Å `ServicePost` 
3. **ScheduleManager** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–æ—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
4. **–í—Å–µ API** –¥–æ–ª–∂–Ω—ã —É—á–∏—Ç—ã–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Å—Ç–æ–≤

### –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏:
1. –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å ServicePost
2. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö ServicePoint
3. –û–±–Ω–æ–≤–∏—Ç—å ScheduleManager
4. –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ª–æ—Ç—ã
5. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø–æ–ª—è –∏–∑ ServicePoint

### –†–∏—Å–∫–∏:
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –±–µ–∑ downtime
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ 